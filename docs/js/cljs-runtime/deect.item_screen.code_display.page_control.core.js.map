{"version":3,"sources":["deect/item_screen/code_display/page_control/core.cljs"],"mappings":";AAKA,IAAAA,iCAAA,wEAAAC;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;wBAAA,AAAAE,4CAAAF,eAAA,/EACIY;AADJ,AAEE,IAAMC,OAAK,AAAA,oFAAO,iBAAAC,eAAA,AAAAC,gBAAEC;AAAF,AAAA,QAAAF,6CAAAA,gEAAAA,rBAAoBF,4CAAAA;;IAChCK,uBAAqB,CAAA,2MAAA,1CAAKC,jJAED,4CAAA,AAAA,qFAAA,AAAAH,jIAACb,kLAAIW,lMACLM;IAEzBC,oBAAa,WAAAC;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAArB,4BAAAqB;YAAA,AAAApB,4CAAAoB,eAAA,nEAAMC;AAAN,AACE,oFAAA,WAAAC,xFAACC,mDACAT;AADD,AAEE,qDAAAQ,mCAAA,2CAAA,2DAAA,vLAACE,+DAAQd,mHAAyBC,yDACAU;;;eAVzD,2CAAA,2DAAA,2CAAA,4DAAA,uBAAA,sDAAA,4BAAA,kDAAA,nXAWMI;AAXN,AAAA,0FAAA,iGAAA,mFAeIC,mCACA,EAAI,wBAAA,vBAAMX,yHACJU,9CACA,uDAAA,sDAAA,7GAACD,9CACD,gKAAA,iDAAA,jNAACA,gWACDC,9CACA,uDAAA,vDAACD,6GAAa,AAAA,kFAAO,iBAAAG,eAAA,AAAAd,gBAAEC,7RACvB,AAACU,9CACD,AAACA;AAFoB,AAAA,QAAAG,6CAAAA,gEAAAA,rBAAoBjB,4CAAAA;OACzC,iDAAYK,sBACZ,+DAAkBG;;AAzB9B,AAAA,gEAAA,AAAAjB,4BAAA,wEAAAC,pKAAQO;AAAR,AAAA,IAAAN,0BAAA;AAAA,AAAA,CAAA,AAAAA,wCAAAP;;AAAA,AAAAQ,cAAAD,wBAAAD;;AAAA,OAAAG,yCAAAC,2DAAAH;;;AAAA,CAAA,kFAAA,lFAAQM;;AAAR,CAAA,4EAAA,5EAAQA;;AAAR,AAAAF,oFAAA,OAAA,iBAAAC,WAAA,EAAA,QAAA,eAAA,WAAA,rIAAQC;AAAR,AAAAD","names":["render-fn__23218__auto__","p__23404","map__23405","cljs.core/--destructure-map","cljs.core.get","reagent.impl.component/memo","jsprops__23219__auto__","jsprops2__23220__auto__","js/Object.assign","reagent.impl.component/functional-render","reagent.impl.template/*current-default-compiler*","js/Object.defineProperty","obj23413","deect.item-screen.code-display.page-control.core/page-control","selected-code-key","lang","fexpr__23406","cljs.core/deref","deect.atoms/selected-code","code-coll-last-index","deect.atoms/selected-lang-item","cljs.core/count","update-page!","p__23407","map__23408","value","p1__23403#","cljs.core.swap_BANG_","cljs.core.assoc","pc-props","reusable.page-control/page-control","fexpr__23409"],"sourcesContent":["(ns deect.item-screen.code-display.page-control.core\n  (:require [deect.atoms :as ats]\n            [reagent.core :as r]\n            [reusable.page-control :as pc]))\n\n(r/defc page-control\n  [{selected-code-key :selected-code-key}]\n  (let [lang (:lang (@ats/selected-code selected-code-key))\n        code-coll-last-index (-> @ats/selected-lang-item\n                                 :ccrec\n                                 (get lang)\n                                 count\n                                 dec)\n        update-page! (fn [{value :value}]\n                       (swap!\n                        ats/selected-code\n                        #(assoc % selected-code-key {:lang lang\n                                                     :page value})))\n        pc-props {:classes {:buttons \"page-control-buttons\"\n                            :text \"page-control-text\"}\n                  :min 0}]\n    [:div.page-control-container\n     [pc/page-control\n      (if (neg? code-coll-last-index)\n        (-> pc-props\n            (assoc :value 0)\n            (assoc :max 0))\n        (-> pc-props\n            (assoc :value (:page (@ats/selected-code selected-code-key)))\n            (assoc :max code-coll-last-index)\n            (assoc :on-change update-page!)))]]))\n"]}