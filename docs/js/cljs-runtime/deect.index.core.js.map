{"version":3,"sources":["deect/index/core.cljs"],"mappings":";AAKA,IAAAA,iCAAA;AAAA,AAEE,IAAMU,aAAW,gDAAA,hDAACC;IACZC,YAAU;AAAA,OACM,MAAA,NAACC,AACD,mCAAA,WAAAC,9CACA,PAGA;AAJA,AAAQ,OAAAA;SACD,WAAKC;AAAL,AACE,uBAAA,vBAAUC,oCAA+BD;;AACzC,OAACE,mDAAMP,WAAW,WAAKQ;AAAL,AAAQ,OAACC,wBAAWJ;;UACvC;AAAA,AACE,OAACE,mDAAMP,WAAW,WAAKQ;AAAL,AAAA;;;;AARlD,AASE,IAAAE,2BAAiB,uBAAA,vBAAUJ;AAA3B,AAAA,oBAAAI;AAAA,oBAAAA,hBAASC;AAAT,AACE,IAAA,AACE,AAACJ,mDAAMP,WAAW,WAAKQ;AAAL,AAAQ,OAACC,wBAAWE;;gBADxC,GAAA,CAAAC,kBAESC;AAFT,cAAAD,VAEwBJ;AAFxB,AAE0B,AAACN;;AAF3B,AAAA,MAAAU;;;;AAGA,AAACV;;;AACH;AAAA,AAAA,0FAAA,8DAEG,iBAAAY,WAAA,AAAAC,gBAAOf;AAAP,AAAA,GAAA,AAAAgB,6CAAA,KAAAF;AAAA,0FAAA,kDAAA;;AAAA,GAAA,AAAAE,6CAAA,mEAAAF;AAAA,0FAAA,kDAAA;;AAAA,AAGE,IAAAG,qBAAA,+CAAAC;AAAA,AAAA,YAAAC,kBAAA,KAAA;AAAA,AAAA,IAAAD,eAAAA;;AAAA,AAAA,IAAAE,qBAAA,AAAAC,cAAAH;AAAA,AAAA,GAAAE;AAAA,AAAA,IAAAF,eAAAE;AAAA,AAAA,GAAA,AAAAE,6BAAAJ;AAAA,IAAAK,kBA27E0C,AAAAiB,sBAAAtB;IA37E1CM,qBAAA,AAAAC,gBAAAF;IAAAG,WAAA,AAAAC,uBAAAH;AAAA,AAAA,GAAA,AAAA,iBAAAI,WAAA;;AAAA,AAAA,GAAA,CAAAA,WAAAJ;AAAA,SAAA,AAAAK,eAAAN,gBAAAK,pCAAMU;AAAN,AAAA,AAAA,AAAAR,uBAAAJ,SAAA,8HAAA,2CAAA,wIAAA,9NACGa,0IAAmB,AAAA,gFAAKD,mEACCA;;AAF5B,eAAA,CAAAV,WAAA;;;;AAAA;;;;;AAAA,OAAAG,qBAAA,AAAAC,gBAAAN,UAAA,AAAAO,qCAAA,AAAAC,qBAAAhB;;AAAA,OAAAa,qBAAA,AAAAC,gBAAAN,UAAA;;;AAAA,SAAA,AAAAS,gBAAAjB,rBAAMoB;AAAN,AAAA,OAAAF,eAAA,8HAAA,2CAAA,wIAAA,kFAAA,AAAAH,qCAAA,AAAAI,eAAAnB,pWACGqB,0IAAmB,AAAA,gFAAKD,mEACCA;;;AAF5B;;;;GAAA,KAAA;;AAAA,AAAA,OAAArB,mBAAA,AAAAF,gBAAUf;;;;;;;AArBnB,AAAA,yBAAA,AAAAT,4BAAA,iCAAAC,tFAAQO;AAAR,AAAA,IAAAN,0BAAA;AAAA,AAAA,CAAA,AAAAA,wCAAAH;;AAAA,AAAAI,cAAAD,wBAAAD;;AAAA,OAAAG,yCAAAC,2DAAAH;;;AAAA,CAAA,2CAAA,3CAAQM;;AAAR,CAAA,qCAAA,rCAAQA;;AAAR,AAAAF,6CAAA,OAAA,iBAAAC,WAAA,EAAA,QAAA,QAAA,WAAA,vFAAQC;AAAR,AAAAD","names":["render-fn__11998__auto__","reagent.impl.component/memo","jsprops__11999__auto__","jsprops2__12000__auto__","js/Object.assign","reagent.impl.component/functional-render","reagent.impl.template/*current-default-compiler*","js/Object.defineProperty","obj12092","deect.index.core/index","lang-items","reagent.core.atom","fetch-lis","js/fetch","p1__12082#","t","js/sessionStorage","cljs.core.swap_BANG_","_","deect.utils/raw->map","temp__5802__auto__","raw-lis","e12083","js/SyntaxError","G__12084","cljs.core/deref","cljs.core._EQ_","iter__5480__auto__","s__12086","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__12088","cljs.core/chunk-buffer","i__12087","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12085","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","li","deect.index.index-button.core/index-button","cljs.core/chunk-first"],"sourcesContent":["(ns deect.index.core\n  (:require [deect.index.index-button.core :refer [index-button]]\n            [deect.utils :as u]\n            [reagent.core :as r]))\n\n(r/defc index\n  []\n  (let [lang-items (r/atom nil)\n        fetch-lis (fn []\n                    (-> (js/fetch \"data/lang-items.json\")\n                        (.then #(.text %))\n                        (.then (fn [t]\n                                 (.setItem js/sessionStorage \"lang-items\" t)\n                                 (swap! lang-items (fn [_] (u/raw->map t)))))\n                        (.catch (fn []\n                                  (swap! lang-items (fn [_] :fetch-error))))))]\n    (if-let [raw-lis (.getItem js/sessionStorage \"lang-items\")]\n      (try\n        (swap! lang-items (fn [_] (u/raw->map raw-lis)))\n        (catch js/SyntaxError _ (fetch-lis)))\n      (fetch-lis))\n    (fn []\n      [:div.index\n       (case @lang-items\n         nil [:h1 \"Loading...\"]\n         :fetch-error [:h1 \"Unexpected error\"]\n         (for [li @lang-items]\n           [index-button {:key (:id li)\n                          :lang-item li}]))])))\n"]}